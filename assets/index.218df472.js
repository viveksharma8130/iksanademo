import{r as d,j as _}from"./index.61bb2f1c.js";import{u as O,a as v,M as R,i as N,b as S,c as T,d as X,s as q,e as D,m as G}from"./motion.a2e0ea6a.js";function V(e){const t=O(()=>v(e)),{isStatic:n}=d.exports.useContext(R);if(n){const[,s]=d.exports.useState(e);d.exports.useEffect(()=>t.onChange(s),[])}return t}const $=e=>typeof e=="object"&&e.mix,J=e=>$(e)?e.mix:void 0;function U(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],r=e[2+n],i=e[3+n],c=N(o,r,{mixer:J(r[0]),...i});return t?c(s):c}function K(e,t){S(()=>{if(T(e))return e.onChange(t)},[t])}function Q(e,t,n){S(()=>{const s=e.map(o=>o.onChange(t));return()=>{s.forEach(o=>o()),n()}})}function Z(e,t){const n=V(t()),s=()=>n.set(t());return s(),Q(e,()=>q.update(s,!1,!0),()=>X.update(s)),n}function ee(e,t,n,s){const o=typeof t=="function"?t:U(t,n,s);return Array.isArray(e)?b(e,o):b([e],([r])=>o(r))}function b(e,t){const n=O(()=>[]);return Z(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function te(e,t={}){const{isStatic:n}=d.exports.useContext(R),s=d.exports.useRef(null),o=V(T(e)?e.get():e);return d.exports.useMemo(()=>o.attach((r,i)=>n?i(r):(s.current&&s.current.stop(),s.current=D({from:o.get(),to:r,velocity:o.getVelocity(),...t,onUpdate:i}),o.get())),[JSON.stringify(t)]),K(e,r=>o.set(parseFloat(r))),o}const ne=(e,t,n)=>Math.min(Math.max(n,e),t),z=e=>typeof e=="number",se=e=>Array.isArray(e)&&!z(e[0]),oe=(e,t,n)=>{const s=t-e;return((n-e)%s+s)%s+e};function re(e,t){return se(e)?e[oe(0,e.length,t)]:e}const B=(e,t,n)=>-n*e+n*t+e,I=e=>e,H=(e,t,n)=>t-e===0?1:(n-e)/(t-e);function j(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=H(0,t,s);e.push(B(n,1,o))}}function Y(e){const t=[0];return j(t,e-1),t}function ie(e,t=Y(e.length),n=I){const s=e.length,o=s-t.length;return o>0&&j(t,o),r=>{let i=0;for(;i<s-2&&!(r<t[i+1]);i++);let c=ne(0,1,H(t[i],t[i+1],r));return c=re(n,i)(c),B(e[i],e[i+1],c)}}const k=e=>typeof e=="function",F=e=>typeof e=="string";function ce(e,t){return t?e*(1e3/t):0}function le(e,t){var n;return typeof e=="string"?t?((n=t[e])!==null&&n!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}function fe(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}const w=new WeakMap;let h;function ue(e,t){if(t){const{inlineSize:n,blockSize:s}=t[0];return{width:n,height:s}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function ae({target:e,contentRect:t,borderBoxSize:n}){var s;(s=w.get(e))===null||s===void 0||s.forEach(o=>{o({target:e,contentSize:t,get size(){return ue(e,n)}})})}function de(e){e.forEach(ae)}function ge(){typeof ResizeObserver>"u"||(h=new ResizeObserver(de))}function he(e,t){h||ge();const n=le(e);return n.forEach(s=>{let o=w.get(s);o||(o=new Set,w.set(s,o)),o.add(t),h==null||h.observe(s)}),()=>{n.forEach(s=>{const o=w.get(s);o==null||o.delete(t),o!=null&&o.size||h==null||h.unobserve(s)})}}const x=new Set;let m;function pe(){m=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};x.forEach(n=>n(t))},window.addEventListener("resize",m)}function ye(e){return x.add(e),m||pe(),()=>{x.delete(e),!x.size&&m&&(m=void 0)}}function ve(e,t){return k(e)?ye(e):he(e,t)}const me=50,A=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),we=()=>({time:0,x:A(),y:A()}),xe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function W(e,t,n,s){const o=n[t],{length:r,position:i}=xe[t],c=o.current,g=n.time;o.current=e["scroll"+i],o.scrollLength=e["scroll"+r]-e["client"+r],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=H(0,o.scrollLength,o.current);const l=s-g;o.velocity=l>me?0:ce(o.current-c,l)}function Ee(e,t,n){W(e,"x",t,n),W(e,"y",t,n),t.time=n}function Le(e,t){let n={x:0,y:0},s=e;for(;s&&s!==t;)if(s instanceof HTMLElement)n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s instanceof SVGGraphicsElement&&"getBBox"in s){const{top:o,left:r}=s.getBBox();for(n.x+=r,n.y+=o;s&&s.tagName!=="svg";)s=s.parentNode}return n}const Oe={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},L={start:0,center:.5,end:1};function M(e,t,n=0){let s=0;if(L[e]!==void 0&&(e=L[e]),F(e)){const o=parseFloat(e);e.endsWith("px")?s=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?s=o/100*document.documentElement.clientWidth:e.endsWith("vh")?s=o/100*document.documentElement.clientHeight:e=o}return z(e)&&(s=t*e),n+s}const Se=[0,0];function ze(e,t,n,s){let o=Array.isArray(e)?e:Se,r=0,i=0;return z(e)?o=[e,e]:F(e)&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,L[e]?e:"0"]),r=M(o[0],n,s),i=M(o[1],t),r-i}const He={x:0,y:0};function be(e,t,n){let{offset:s=Oe.All}=n;const{target:o=e,axis:r="y"}=n,i=r==="y"?"height":"width",c=o!==e?Le(o,e):He,g=o===e?{width:e.scrollWidth,height:e.scrollHeight}:{width:o.clientWidth,height:o.clientHeight},l={width:e.clientWidth,height:e.clientHeight};t[r].offset.length=0;let u=!t[r].interpolate;const a=s.length;for(let f=0;f<a;f++){const p=ze(s[f],l[i],g[i],c[r]);!u&&p!==t[r].interpolatorOffsets[f]&&(u=!0),t[r].offset[f]=p}u&&(t[r].interpolate=ie(Y(a),t[r].offset),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=t[r].interpolate(t[r].current)}function Ae(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!=e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function We(e,t,n,s={}){const o=s.axis||"y";return{measure:()=>Ae(e,s.target,n),update:r=>{Ee(e,n,r),(s.offset||s.target)&&be(e,n,s)},notify:k(t)?()=>t(n):Me(t,n[o])}}function Me(e,t){return e.pause(),e.forEachNative((n,{easing:s})=>{var o,r;if(n.updateDuration)s||(n.easing=I),n.updateDuration(1);else{const i={duration:1e3};s||(i.easing="linear"),(r=(o=n.effect)===null||o===void 0?void 0:o.updateTiming)===null||r===void 0||r.call(o,i)}}),()=>{e.currentTime=t.progress}}const y=new WeakMap,P=new WeakMap,E=new WeakMap,C=e=>e===document.documentElement?window:e;function Pe(e,t={}){var{container:n=document.documentElement}=t,s=fe(t,["container"]);let o=E.get(n);o||(o=new Set,E.set(n,o));const r=we(),i=We(n,e,r,s);if(o.add(i),!y.has(n)){const l=()=>{const a=performance.now();for(const f of o)f.measure();for(const f of o)f.update(a);for(const f of o)f.notify()};y.set(n,l);const u=C(n);window.addEventListener("resize",l,{passive:!0}),n!==document.documentElement&&P.set(n,ve(n,l)),u.addEventListener("scroll",l,{passive:!0})}const c=y.get(n),g=requestAnimationFrame(c);return()=>{var l;typeof e!="function"&&e.stop(),cancelAnimationFrame(g);const u=E.get(n);if(!u||(u.delete(i),u.size))return;const a=y.get(n);y.delete(n),a&&(C(n).removeEventListener("scroll",a),(l=P.get(n))===null||l===void 0||l(),window.removeEventListener("resize",a))}}const Ce=()=>({scrollX:v(0),scrollY:v(0),scrollXProgress:v(0),scrollYProgress:v(0)});function Re({container:e,target:t,layoutEffect:n=!0,...s}={}){const o=O(Ce);return(n?S:d.exports.useEffect)(()=>Pe(({x:i,y:c})=>{o.scrollX.set(i.current),o.scrollXProgress.set(i.progress),o.scrollY.set(c.current),o.scrollYProgress.set(c.progress)},{...s,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),[]),o}const Be=({className:e,offset:t=50})=>{const[n,s]=d.exports.useState(0),[o,r]=d.exports.useState(0),i=d.exports.useRef(null),c=n-o,g=n+t,{scrollY:l}=Re(),u=ee(l,[c,g],[t,-t]),a=te(u,{stiffness:400,damping:90});return d.exports.useLayoutEffect(()=>{const f=i.current,p=()=>{s(f.getBoundingClientRect().top+window.scrollY||window.pageYOffset),r(window.innerHeight)};return p(),console.log(a),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[i]),_(G.div,{className:e,ref:i,style:{y:a}})};export{Be as P};
